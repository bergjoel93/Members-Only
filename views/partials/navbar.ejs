<!-- views/partials/navbar.ejs -->
<div class="navbar-container">
  <div class="logo-container">
    <div class="logo">
      <img src="images/logo.png" alt="moose logo" />
    </div>
    <h1 class="nav-title"><a href="/">Anony-Moose</a></h1>
  </div>

  <!-- Hamburger Menu Icon -->
  <button id="menu-toggle" class="menu-toggle">
    &#9776;
    <!-- Unicode for Hamburger Icon -->
  </button>

  <nav class="navbar">
    <!-- Navbar Links -->
    <div class="navbar-buttons">
      <a href="/message-board">Messages</a>

      <% if (user) { %>
      <!-- User is logged in -->
      <a href="/edit-member-status">Update Status</a>

      <% if (user.member_status === "admin") { %>
      <!-- Admin-only link -->
      <a href="/admin-console">Admin</a>
      <% } %>

      <!-- Logout button for logged-in users -->
      <form action="/logout" method="POST" class="logout-form">
        <button class="logout-button" type="submit">Log Out</button>
      </form>

      <% } else { %>
      <!-- User is NOT logged in -->
      <a href="/register">Register</a>
      <% } %>

      <!-- Close Button (Hidden by Default) -->
      <button id="close-menu" class="close-menu">&times;</button>
    </div>
  </nav>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const menuToggle = document.getElementById("menu-toggle");
    const navbarTabs = document.querySelector(".navbar-buttons");
    const closeMenu = document.getElementById("close-menu");

    // Open Menu
    menuToggle.addEventListener("click", function () {
      navbarTabs.classList.add("active");
      menuToggle.classList.add("hidden"); // Hide Hamburger
      closeMenu.classList.add("active"); // Show Close Button
    });

    // Close Menu
    closeMenu.addEventListener("click", function () {
      navbarTabs.classList.remove("active");
      menuToggle.classList.remove("hidden"); // Show Hamburger
      closeMenu.classList.remove("active"); // Hide Close Button
    });
  });
</script>
